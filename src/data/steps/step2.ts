import { Step } from '../types';

export const step2: Step = {
    "id": "2",
  "title": "Matchers - Testing Different Types",
  "initialCode": "// ============================================\r\n// STEP 2: Matchers - Testing Different Types\r\n// ============================================\r\n\r\n// Helper functions for testing\r\nfunction getUserData() {\r\n  return {\r\n    name: 'John Doe',\r\n    age: 30,\r\n    email: 'john@example.com',\r\n    address: {\r\n      city: 'New York',\r\n      country: 'USA'\r\n    }\r\n  };\r\n}\r\n\r\nfunction getNumbers() {\r\n  return [1, 2, 3, 4, 5];\r\n}\r\n\r\nfunction calculateCircleArea(radius) {\r\n  return Math.PI * radius * radius;\r\n}\r\n\r\n// ============================================\r\n// EQUALITY MATCHERS\r\n// ============================================\r\n\r\ntest('.toBe() - primitive equality', () => {\r\n  expect(2 + 2).toBe(4);\r\n  expect('hello').toBe('hello');\r\n});\r\n\r\ntest('.toEqual() - deep equality for objects', () => {\r\n  expect({ name: 'John' }).toEqual({ name: 'John' });\r\n  expect([1, 2, 3]).toEqual([1, 2, 3]);\r\n  expect(getUserData()).toEqual({\r\n    name: 'John Doe',\r\n    age: 30,\r\n    email: 'john@example.com',\r\n    address: {\r\n      city: 'New York',\r\n      country: 'USA'\r\n    }\r\n  });\r\n});\r\n\r\n// ============================================\r\n// TRUTHINESS MATCHERS\r\n// ============================================\r\n\r\ntest('.toBeTruthy() - truthy values', () => {\r\n  expect(1).toBeTruthy();\r\n  expect('hello').toBeTruthy();\r\n  expect(true).toBeTruthy();\r\n  expect({}).toBeTruthy();\r\n  expect([]).toBeTruthy();\r\n});\r\n\r\ntest('.toBeFalsy() - falsy values', () => {\r\n  expect(0).toBeFalsy();\r\n  expect('').toBeFalsy();\r\n  expect(false).toBeFalsy();\r\n  expect(null).toBeFalsy();\r\n  expect(undefined).toBeFalsy();\r\n});\r\n\r\ntest('.toBeNull() - null check', () => {\r\n  const value = null;\r\n  expect(value).toBeNull();\r\n});\r\n\r\ntest('.toBeUndefined() - undefined check', () => {\r\n  let value;\r\n  expect(value).toBeUndefined();\r\n});\r\n\r\ntest('.toBeDefined() - defined check', () => {\r\n  const value = 'exists';\r\n  expect(value).toBeDefined();\r\n});\r\n\r\n// ============================================\r\n// NUMBER MATCHERS\r\n// ============================================\r\n\r\ntest('.toBeGreaterThan() - number comparison', () => {\r\n  expect(10).toBeGreaterThan(5);\r\n  expect(100).toBeGreaterThan(99);\r\n});\r\n\r\ntest('.toBeGreaterThanOrEqual() - number comparison', () => {\r\n  expect(10).toBeGreaterThanOrEqual(10);\r\n  expect(10).toBeGreaterThanOrEqual(5);\r\n});\r\n\r\ntest('.toBeLessThan() - number comparison', () => {\r\n  expect(5).toBeLessThan(10);\r\n  expect(99).toBeLessThan(100);\r\n});\r\n\r\ntest('.toBeLessThanOrEqual() - number comparison', () => {\r\n  expect(5).toBeLessThanOrEqual(5);\r\n  expect(5).toBeLessThanOrEqual(10);\r\n});\r\n\r\ntest('.toBeCloseTo() - floating point comparison', () => {\r\n  expect(0.1 + 0.2).toBeCloseTo(0.3); // Avoids rounding errors\r\n  const area = calculateCircleArea(2);\r\n  expect(area).toBeCloseTo(12.566, 2); // 2 decimal places\r\n});\r\n\r\n// ============================================\r\n// STRING MATCHERS\r\n// ============================================\r\n\r\ntest('.toMatch() - regex matching', () => {\r\n  expect('Hello World').toMatch(/World/);\r\n  expect('test@example.com').toMatch(/^[\\w.\\-]+@([\\w\\-]+\\.)+[\\w\\-]{2,4}$/);\r\n  expect('JavaScript123').toMatch(/JavaScript\\d+/);\r\n});\r\n\r\ntest('.toContain() - substring check', () => {\r\n  expect('Hello World').toContain('World');\r\n  expect('JavaScript').toContain('Script');\r\n  expect('john@example.com').toContain('@');\r\n});\r\n\r\n// ============================================\r\n// ARRAY MATCHERS\r\n// ============================================\r\n\r\ntest('.toContain() - array contains item', () => {\r\n  expect([1, 2, 3, 4]).toContain(3);\r\n  expect(['apple', 'banana', 'orange']).toContain('banana');\r\n  expect(getNumbers()).toContain(5);\r\n});\r\n\r\ntest('.toHaveLength() - array length', () => {\r\n  expect([1, 2, 3]).toHaveLength(3);\r\n  expect(getNumbers()).toHaveLength(5);\r\n  expect('hello').toHaveLength(5); // Also works for strings\r\n});\r\n\r\ntest('.toContainEqual() - array contains matching object', () => {\r\n  const users = [\r\n    { name: 'John', age: 30 },\r\n    { name: 'Jane', age: 25 }\r\n  ];\r\n  expect(users).toContainEqual({ name: 'John', age: 30 });\r\n});\r\n\r\n// ============================================\r\n// OBJECT MATCHERS\r\n// ============================================\r\n\r\ntest('.toHaveProperty() - object property check', () => {\r\n  const user = getUserData();\r\n  expect(user).toHaveProperty('name');\r\n  expect(user).toHaveProperty('name', 'John Doe');\r\n  expect(user).toHaveProperty('age', 30);\r\n  expect(user).toHaveProperty('address.city', 'New York');\r\n});\r\n\r\ntest('.toMatchObject() - partial object matching', () => {\r\n  const user = getUserData();\r\n  expect(user).toMatchObject({\r\n    name: 'John Doe',\r\n    age: 30\r\n  });\r\n  expect(user).toMatchObject({\r\n    address: {\r\n      city: 'New York'\r\n    }\r\n  });\r\n});\r\n\r\n// ============================================\r\n// EXCEPTION MATCHERS\r\n// ============================================\r\n\r\nfunction throwError() {\r\n  throw new Error('Something went wrong');\r\n}\r\n\r\nfunction throwTypeError() {\r\n  throw new TypeError('Invalid type');\r\n}\r\n\r\nfunction divideByZero(a, b) {\r\n  if (b === 0) {\r\n    throw new Error('Cannot divide by zero');\r\n  }\r\n  return a / b;\r\n}\r\n\r\ntest('.toThrow() - basic error throwing', () => {\r\n  expect(() => throwError()).toThrow();\r\n  expect(() => throwError()).toThrow(Error);\r\r\n});\r\n\r\ntest('.toThrow() - specific error message', () => {\r\n  expect(() => throwError()).toThrow('Something went wrong');\r\n  expect(() => divideByZero(10, 0)).toThrow('Cannot divide by zero');\r\n});\r\n\r\ntest('.toThrow() - error message with regex', () => {\r\n  expect(() => throwError()).toThrow(/went wrong/);\r\n  expect(() => divideByZero(10, 0)).toThrow(/divide/);\r\n});\r\n\r\ntest('.toThrow() - specific error type', () => {\r\n  expect(() => throwTypeError()).toThrow(TypeError);\r\n});",
  "description": "## **Step 2: Matchers - Testing Different Types**\r\n\r\n#### **Topic 1: Common Matchers Overview**\r\n**Explanation:**\r\nJest provides dozens of matchers for different testing scenarios. Matchers are methods chained to `expect()` that perform assertions. Choosing the right matcher makes tests more readable and provides better error messages.\r\n\r\n---\r\n\r\n#### **Topic 2: Equality Matchers (.toBe(), .toEqual())**\r\n**Explanation:**\r\n\r\n**`.toBe()`** - Uses `Object.is()` for exact equality (reference equality for objects)\r\n```javascript\r\nexpect(2 + 2).toBe(4);\r\nexpect('hello').toBe('hello');\r\nconst obj = { name: 'John' };\r\nexpect(obj).toBe(obj); // Same reference\r\n```\r\n\r\n**`.toEqual()`** - Deep equality check (compares values recursively)\r\n```javascript\r\nexpect({ name: 'John' }).toEqual({ name: 'John' }); // Different objects, same values\r\nexpect([1, 2, 3]).toEqual([1, 2, 3]);\r\n```\r\n\r\n**When to use:**\r\n- `.toBe()` for primitives (numbers, strings, booleans)\r\n- `.toEqual()` for objects and arrays\r\n\r\n---\r\n\r\n#### **Topic 3: Truthiness Matchers**\r\n**Explanation:**\r\n\r\n**`.toBeTruthy()`** - Matches anything that `if` statement treats as true\r\n```javascript\r\nexpect(1).toBeTruthy();\r\nexpect('hello').toBeTruthy();\r\nexpect(true).toBeTruthy();\r\n```\r\n\r\n**`.toBeFalsy()`** - Matches anything that `if` statement treats as false\r\n```javascript\r\nexpect(0).toBeFalsy();\r\nexpect('').toBeFalsy();\r\nexpect(false).toBeFalsy();\r\nexpect(null).toBeFalsy();\r\nexpect(undefined).toBeFalsy();\r\n```\r\n\r\n**`.toBeNull()`** - Matches only `null`\r\n```javascript\r\nexpect(null).toBeNull();\r\n```\r\n\r\n**`.toBeUndefined()`** - Matches only `undefined`\r\n```javascript\r\nexpect(undefined).toBeUndefined();\r\nlet x;\r\nexpect(x).toBeUndefined();\r\n```\r\n\r\n**`.toBeDefined()`** - Opposite of `toBeUndefined()`\r\n```javascript\r\nexpect('hello').toBeDefined();\r\n```\r\n\r\n---\r\n\r\n#### **Topic 4: Number Matchers**\r\n**Explanation:**\r\n\r\n**`.toBeGreaterThan()`** - Tests if number is greater than expected\r\n```javascript\r\nexpect(10).toBeGreaterThan(5);\r\n```\r\n\r\n**`.toBeGreaterThanOrEqual()`**\r\n```javascript\r\nexpect(10).toBeGreaterThanOrEqual(10);\r\n```\r\n\r\n**`.toBeLessThan()`** - Tests if number is less than expected\r\n```javascript\r\nexpect(5).toBeLessThan(10);\r\n```\r\n\r\n**`.toBeLessThanOrEqual()`**\r\n```javascript\r\nexpect(5).toBeLessThanOrEqual(5);\r\n```\r\n\r\n**`.toBeCloseTo()`** - For floating point equality (avoids rounding errors)\r\n```javascript\r\nexpect(0.1 + 0.2).toBeCloseTo(0.3); // Better than .toBe()\r\n```\r\n\r\n---\r\n\r\n#### **Topic 5: String Matchers**\r\n**Explanation:**\r\n\r\n**`.toMatch()`** - Tests against regular expressions\r\n```javascript\r\nexpect('Hello World').toMatch(/World/);\r\nexpect('test@example.com').toMatch(/^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$/);\r\n```\r\n\r\n**`.toContain()`** - Tests if string contains substring\r\n```javascript\r\nexpect('Hello World').toContain('World');\r\nexpect('JavaScript').toContain('Script');\r\n```\r\n\r\n---\r\n\r\n#### **Topic 6: Array Matchers**\r\n**Explanation:**\r\n\r\n**`.toContain()`** - Tests if array contains an item\r\n```javascript\r\nexpect([1, 2, 3, 4]).toContain(3);\r\nexpect(['apple', 'banana']).toContain('apple');\r\n```\r\n\r\n**`.toHaveLength()`** - Tests array length\r\n```javascript\r\nexpect([1, 2, 3]).toHaveLength(3);\r\nexpect('hello').toHaveLength(5); // Also works for strings\r\n```\r\n\r\n**`.toContainEqual()`** - Tests if array contains an object with matching values\r\n```javascript\r\nexpect([{ name: 'John' }, { name: 'Jane' }]).toContainEqual({ name: 'John' });\r\n```\r\n\r\n---\r\n\r\n#### **Topic 7: Object Matchers**\r\n**Explanation:**\r\n\r\n**`.toHaveProperty()`** - Tests if object has a property (and optionally its value)\r\n```javascript\r\nconst user = { name: 'John', age: 30 };\r\nexpect(user).toHaveProperty('name');\r\nexpect(user).toHaveProperty('name', 'John');\r\nexpect(user).toHaveProperty('age', 30);\r\n```\r\n\r\n**`.toMatchObject()`** - Tests if object contains expected properties (partial match)\r\n```javascript\r\nconst user = { name: 'John', age: 30, city: 'NYC' };\r\nexpect(user).toMatchObject({ name: 'John', age: 30 }); // Passes, even though 'city' is extra\r\n```\r\n\r\n---\r\n\r\n#### **Topic 8: Exception Matchers (.toThrow())**\r\n**Explanation:**\r\n\r\n**`.toThrow()`** - Tests if function throws an error\r\n```javascript\r\nexpect(() => {\r\n  throw new Error('Error!');\r\n}).toThrow();\r\n\r\n// Test specific error message\r\nexpect(() => {\r\n  throw new Error('Not found');\r\n}).toThrow('Not found');\r\n\r\n// Test error type\r\nexpect(() => {\r\n  throw new Error('Error');\r\n}).toThrow(Error);\r\n\r\n// Test with regex\r\nexpect(() => {\r\n  throw new Error('Network error: 404');\r\n}).toThrow(/Network/);\r\n```\r\n\r\n**Important:** Must wrap throwing code in a function, otherwise error will be thrown during test setup!"
};
